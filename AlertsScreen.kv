#:set tam  '25dp'
#:set color 118/255, 163/255, 79/255, 1
#:import Menu_BarAux Menu_BarAux

<AlertScreen>:

    BgLabel:
        background_color: 244/255, 244/255, 244/255, 1
        #provisonal mientras ubico los canvas blancos
        #background_color: 226/255, 226/255, 133/255, 1
        size_hint: 1, 1
        pos_hint: {'right': 1, 'y': 0}


    Label:
        text: 'ALERTAS'
        pos_hint: {'x': .04, 'y': .87}
        size_hint: None, None
        color: 0, 0, 0, 1
        font_size: 17
        font_name: 'font/louis_george_cafe/Louis George Cafe.ttf'

#Donde va el conteo e informacion general

    BgCanvas:
        canvas:
            Rectangle:
                pos: self.width * 0.05, self.height * 0.695
                size: self.width * 0.9, self.height * 0.22


    Label:
        text: 'NUMERO DE ALERTAS'
        pos_hint: {'x': .25 , 'y': .8}
        size_hint: None, None
        color: 0, 0, 0, 1
        font_size: 15
        font_name: 'font/louis_george_cafe/Louis George Cafe.ttf'


    Label:
    #esto lo debes hacer tu ya que es concetandola a la base de datos y la informacion se debe ccolocar en el label creo
        text: '00'
        pos_hint: {'x': .25 , 'y': .7}
        size_hint: None, None
        color: 0, 0, 0, 1
        font_size: 70
        font_name: 'font/louis_george_cafe/Louis George Cafe.ttf'


    Label:
        text: 'ULTIMA ALERTA'
        pos_hint: {'x': .6 , 'y': .8}
        size_hint: None, None
        color: 0, 0, 0, 1
        font_size: 15
        font_name: 'font/louis_george_cafe/Louis George Cafe.ttf'


    BgCanvas:
        canvas:
            Color:
                #rgba(255, 226, 133, 1)
                rgba: 255/255, 226/255, 133/255, 1
            RoundedRectangle:
                pos: self.width * 0.65, self.height * 0.8
                size: 155 , 30
                radius: [15, 15, 15, 15]  # Radios de las esquinas


    Label:
        text: 'Fecha'
        pos_hint: {'x': .48 , 'y': .75}
        size_hint: None, None
        color: 0, 0, 0, 1
        font_size: 17
        font_name: 'font/louis_george_cafe/Louis George Cafe.ttf'


    Label:
    #esto lo debes hacer tu ya que es concetandola a la base de datos
        text: '00/00/0000'
        pos_hint: {'x': .69 , 'y': .745}
        size_hint: None, None
        color: 0, 0, 0, 1
        font_size: 17
        font_name: 'font/louis_george_cafe/Louis George Cafe.ttf'


    BgCanvas:
        canvas:
            Color:
                #rgba(255, 226, 133, 1)
                rgba: 255/255, 226/255, 133/255, 1
            RoundedRectangle:
                pos: self.width * 0.65, self.height * 0.73
                size: 155 , 30
                radius: [15, 15, 15, 15]  # Radios de las esquinas


    Label:
        text: 'Hora'
        pos_hint: {'x': .48 , 'y': .675}
        size_hint: None, None
        color: 0, 0, 0, 1
        font_size: 17
        font_name: 'font/louis_george_cafe/Louis George Cafe.ttf'


    Label:
    #esto lo debes hacer tu ya que es concetandola a la base de datos y la informacion se debe ccolocar en el label creo
        text: '00:00 am'
        pos_hint: {'x': .69 , 'y': .675}
        size_hint: None, None
        color: 0, 0, 0, 1
        font_size: 17
        font_name: 'font/louis_george_cafe/Louis George Cafe.ttf'

#La parte donde estan los detalles de alerta
    BgCanvas:
        canvas:
            Rectangle:
                pos: self.width * 0.05, self.height * 0.62
                size: self.width * 0.9, self.height * 0.064


    Label:
        text: 'DETALLES DE ALERTAS'
        pos_hint: {'x': .15 , 'y': .57}
        size_hint: None, None
        color: 0, 0, 0, 1
        font_size: 15
        font_name: 'font/louis_george_cafe/Louis George Cafe.ttf'


    Label:
        id: 'label_more'
        text: 'Mostrar Más'
        pos_hint: {'x': .76 , 'y': .57}
        size_hint: None, None
        color: 90/255, 139/255, 48/255, 1
        #Defini la fuente y el tamaño de la misma
        font_size: 12
        font_name: 'font/louis_george_cafe/Louis George Cafe Bold.ttf'
        on_touch_up: root.parent.parent.parent.handle_touch('label_more', 'AlertsMore', *args) if self.collide_point(*args[1].pos) else None


#Donde van los menus desplegables y muestra fechas y horas
    #Esta es la parte que rige lo que se mostrar en el canvas de fondo de los elementos
    BgCanvas:
        canvas:
            Rectangle:
                pos: self.width * 0.05, self.height * 0.35
                size: self.width * 0.9, self.height * 0.26


    Label:
        text: 'Mes'
        pos_hint: {'x': .06 , 'y': .45}
        size_hint: None, None
        color: 0, 0, 0, 1
        font_size: 18
        font_name: 'font/louis_george_cafe/Louis George Cafe.ttf'

    DropDown_Mes:

    Label:
        text: 'Año'
        pos_hint: {'x': .06 , 'y': .4}
        size_hint: None, None
        color: 0, 0, 0, 1
        font_size: 18
        font_name: 'font/louis_george_cafe/Louis George Cafe.ttf'

    DropDown_Year:


    BgCanvas:
        canvas:
            Color:
                #rgba(255, 226, 133, 1)
                rgba: 255/255, 226/255, 133/255, 1
            RoundedRectangle:
                pos: self.width * 0.7, self.height * 0.365
                size: self.width * 0.2, self.height * 0.05
                radius: [15, 15, 15, 15]  # Radios de las esquinas


    BgCanvas:
        canvas:
            Color:
                #rgba(255, 226, 133, 1)
                rgba: 255/255, 226/255, 133/255, 1
            RoundedRectangle:
                pos: self.width * 0.45, self.height * 0.365
                size: self.width * 0.2, self.height * 0.05
                radius: [15, 15, 15, 15]  # Radios de las esquinas


    Label:
        text: 'Ultima modificacion'
        pos_hint: {'x': .14 , 'y': .32}
        size_hint: None, None
        color: 0, 0, 0, 1
        font_size: 18
        font_name: 'font/louis_george_cafe/Louis George Cafe.ttf'


    Label:
        text: 'Fecha'
        pos_hint: {'x': .48 , 'y': .35}
        size_hint: None, None
        color: 0, 0, 0, 1
        font_size: 17
        font_name: 'font/louis_george_cafe/Louis George Cafe.ttf'

    Label:
    #esto lo debes hacer tu ya que es concetandola a la base de datos
        text: '00/00/0000'
        pos_hint: {'x': .48 , 'y': .31}
        size_hint: None, None
        color: 0, 0, 0, 1
        font_size: 17
        font_name: 'font/louis_george_cafe/Louis George Cafe.ttf'


    Label:
        text: 'Hora'
        pos_hint: {'x': .735 , 'y': .35}
        size_hint: None, None
        color: 0, 0, 0, 1
        font_size: 17
        font_name: 'font/louis_george_cafe/Louis George Cafe.ttf'

    Label:
    #esto lo debes hacer tu ya que es concetandola a la base de datos
        text: '00:00 am'
        pos_hint: {'x': .735 , 'y': .31}
        size_hint: None, None
        color: 0, 0, 0, 1
        font_size: 17
        font_name: 'font/louis_george_cafe/Louis George Cafe.ttf'


#El canvas de fondo que muestra las alertas del mes escogido
    BgCanvas:
        canvas:
            Rectangle:
                pos: self.width * 0.05, self.height * 0.05
                size: self.width * 0.9, self.height * 0.285


#Menu desplegable para los meses le añadi una barra de desplazamiento al ser muchos


<DropDown_Mes>:
    FloatLayout:
        orientation: 'vertical'

        Button:
            id: mainbtn
            background_normal: 'imagenes_Demeter/Elements-Various/drop-down-menu.png'
            background_down: 'imagenes_Demeter/Elements-Various/drop-down-menu.png'
            pos_hint: {'x': .6, 'y': .53}
            size_hint: None, None
            size: '200dp', '40dp'
            on_release: dropdown.open(self)

        Label:
            id: selected_month_label
            text: 'Seleccione el mes'
            pos_hint: {'x': .575, 'y': .53}
            size_hint: None, None
            size: '200dp', '40dp'
            color: 244/255, 244/255, 244/255, 1
            font_name: 'font/louis_george_cafe/Louis George Cafe Bold.ttf'

        DropDown:
            id: dropdown
            on_select:
                selected_month_label.text = '{}'.format(args[1])

            ScrollView:
                size_hint_y: None
                height: 150

                GridLayout:
                    cols: 1
                    size_hint_y: None
                    height: self.minimum_height

                    Button:
                        text: 'Enero'
                        font_name: 'font/louis_george_cafe/Louis George Cafe Bold.ttf'
                        background_normal: ''
                        background_down: ''
                        background_color: color
                        size_hint_y: None
                        height: tam
                        on_release: dropdown.select(self.text)

                    Button:
                        text: 'Febrero'
                        font_name: 'font/louis_george_cafe/Louis George Cafe Bold.ttf'
                        background_normal: ''
                        background_down: ''
                        background_color: color
                        size_hint_y: None
                        height: tam
                        on_release: dropdown.select(self.text)

                    Button:
                        text: 'Marzo'
                        font_name: 'font/louis_george_cafe/Louis George Cafe Bold.ttf'
                        background_normal: ''
                        background_down: ''
                        background_color: color
                        size_hint_y: None
                        height: tam
                        on_release: dropdown.select(self.text)

                    Button:
                        text: 'Abril'
                        font_name: 'font/louis_george_cafe/Louis George Cafe Bold.ttf'
                        background_normal: ''
                        background_down: ''
                        background_color: color
                        size_hint_y: None
                        height: tam
                        on_release: dropdown.select(self.text)

                    Button:
                        text: 'Mayo'
                        font_name: 'font/louis_george_cafe/Louis George Cafe Bold.ttf'
                        background_normal: ''
                        background_down: ''
                        background_color: color
                        size_hint_y: None
                        height: tam
                        on_release: dropdown.select(self.text)

                    Button:
                        text: 'Junio'
                        font_name: 'font/louis_george_cafe/Louis George Cafe Bold.ttf'
                        background_normal: ''
                        background_down: ''
                        background_color: color
                        size_hint_y: None
                        height: tam
                        on_release: dropdown.select(self.text)

                    Button:
                        text: 'Julio'
                        font_name: 'font/louis_george_cafe/Louis George Cafe Bold.ttf'
                        background_normal: ''
                        background_down: ''
                        background_color: color
                        size_hint_y: None
                        height: tam
                        on_release: dropdown.select(self.text)

                    Button:
                        text: 'Agosto'
                        font_name: 'font/louis_george_cafe/Louis George Cafe Bold.ttf'
                        background_normal: ''
                        background_down: ''
                        background_color: color
                        size_hint_y: None
                        height: tam
                        on_release: dropdown.select(self.text)

                    Button:
                        text: 'Septiembre'
                        font_name: 'font/louis_george_cafe/Louis George Cafe Bold.ttf'
                        background_normal: ''
                        background_down: ''
                        background_color: color
                        size_hint_y: None
                        height: tam
                        on_release: dropdown.select(self.text)

                    Button:
                        text: 'Octubre'
                        font_name: 'font/louis_george_cafe/Louis George Cafe Bold.ttf'
                        background_normal: ''
                        background_down: ''
                        background_color: color
                        size_hint_y: None
                        height: tam
                        on_release: dropdown.select(self.text)

                    Button:
                        text: 'Noviembre'
                        font_name: 'font/louis_george_cafe/Louis George Cafe Bold.ttf'
                        background_normal: ''
                        background_down: ''
                        background_color: color
                        size_hint_y: None
                        height: tam
                        on_release: dropdown.select(self.text)

                    Button:
                        text: 'Diciembre'
                        font_name: 'font/louis_george_cafe/Louis George Cafe Bold.ttf'
                        background_normal: ''
                        background_down: ''
                        background_color: color
                        size_hint_y: None
                        height: tam
                        on_release: dropdown.select(self.text)

<DropDown_Year>:
    FloatLayout:
        orientation: 'vertical'

        Button:
            id: mainbtn
            background_normal: 'imagenes_Demeter/Elements-Various/drop-down-menu.png'
            background_down: 'imagenes_Demeter/Elements-Various/drop-down-menu.png'
            pos_hint: {'x': .6, 'y': .46}
            size_hint: None, None
            size: '200dp', '40dp'
            on_release: dropdown.open(self)

        Label:
            id: selected_year_label
            text: 'Seleccione el año'
            pos_hint: {'x': .575, 'y': .46}
            size_hint: None, None
            size: '200dp', '40dp'
            color: 244/255, 244/255, 244/255, 1
            font_name: 'font/louis_george_cafe/Louis George Cafe Bold.ttf'

        DropDown:
            id: dropdown
            on_select:
                selected_year_label.text = '{}'.format(args[1])

            ScrollView:
                size_hint_y: None
                height: 150

                GridLayout:
                    cols: 1
                    size_hint_y: None
                    height: self.minimum_height

                    Button:
                        text: '2023'
                        font_name: 'font/louis_george_cafe/Louis George Cafe Bold.ttf'
                        background_normal: ''
                        background_down: ''
                        background_color: color
                        size_hint_y: None
                        height: tam
                        on_release: dropdown.select(self.text)